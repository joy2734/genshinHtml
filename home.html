<html>
<head> 
<title>원신——모험이 가득한 신비한 세계로 떠나자</title>
</head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link data-n-head="true" rel="icon" type="image/x-icon" href="images/favicon.ico">
<link href="./slider.css" rel="stylesheet" type="text/css"  />
<link href="./home.css" rel="stylesheet" type="text/css"  />
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/underscore@1.12.1/underscore-min.js"></script>
<script src="./slider.js"></script>

<body style="margin:0px;">
<div class="banner">
    <div class="main-menu">
        <span class="circle-item citem1" popupKey="ch" title="캐릭터 레벨업에 드는 재화량 표시"><p class="popup-info-label">캐릭터 재화</p></span>
        <span class="circle-item citem2" popupKey="we" title="무기 레벨업에 드는 재화량 표시"><p class="popup-info-label">무기 재화</p></span>
        <span class="circle-item citem3" popupKey="pr" title="각 캐릭터의 특성 6레벨 이후 주간보스재료"><p class="popup-info-label">특성 재료</p></span>
        <span class="circle-item citem4" popupKey="rf" title="성유물 부위별 옵션"><p class="popup-info-label">성유물옵션</p></span>
        <span class="circle-item citem5" popupKey="ro" title="성유물 세트 옵션 능력시표시"><p class="popup-info-label">성유물 능력</p></span>
    </div>

    <selection>
        <img id="background" src="images/ayaka.png" width="100%" height="100%" />
        <div class="poster__arrows">
            <div class="poster__arrow poster__arrow-1"></div> 
            <div class="poster__arrow poster__arrow-2"></div> 
            <div class="poster__arrow poster__arrow-3"></div>
        </div>
    </selection>
    <div class="header" style="transform: translateX(0px);">
        <div class="audio-controller" style="transform: translateX(0px);">
            <img src="images/audio_off.png" width="80%" class="audio-controller--off">
            <img src="images/audio_on.png" width="80%" class="audio-controller--on">
        </div>
        <div class="header__logo">
            <a href="home.html" class="header__navitem">
                <img src="images/logo.png" width="100%" />
            </a>
        </div>
        <div class="header__navbar">
            <a href="home.html" class="header__navitem">홈</a>
            <div class="header__navitem header__navitem__more">
                <p>캐릭터</p>
                <ul class="header__navitem__sublist">
                    <li>
                        <a href="character5.html" class="header__navitem">5성 캐릭터</a>
                    </li>
                    <li>
                        <a href="character4.html" class="header__navitem">4성 캐릭터</a>
                    </li>
                </ul>
            </div>
            <a href="relicpoint.html" class="header__navitem">성유물 점수</a>
            <a href="creticalRate.html" class="header__navitem">크리효율</a>
            <a href="https://genshin.mihoyo.com/ko/home" class="header__navitem" target="_blank">원신공식</a>
            <a href="https://cafe.naver.com/genshin" class="header__navitem" target="_blank">카페</a>
            <div class="animate-play play-btn"></div>
            <div class="animate-stop play-btn"></div>
            <a href="https://genshin.mihoyo.com/ko/download" class="header__download" target="_blank">
                <div class="transition-img"></div>
            </a>
        </div>
    </div>
    <section class="news">
        <div class="poster__arrows reverse">
            <div class="poster__arrow poster__arrow-1 reverse"></div> 
            <div class="poster__arrow poster__arrow-2 reverse"></div> 
            <div class="poster__arrow poster__arrow-3 reverse"></div>
        </div>
        <h3>
            소식
        </h3>
        <div class="news__main">
            <div class="news__swiper">
                <!-- Slideshow container -->
                <div class="slideshow-container">
        
                    <!-- Full-width images with number and caption text -->
                    <div class="mySlides fade">
                    <div class="numbertext">1 / 4</div>
                    <img src="images/slider/benti.jpg" style="width:100%;">
                    <div class="text">벤티</div>
                    </div>
                
                    <div class="mySlides fade">
                    <div class="numbertext">2 / 4</div>
                    <img src="images/slider/lozaria.jpg" style="width:100%;">
                    <div class="text">로자리아</div>
                    </div>
                
                    <div class="mySlides fade">
                    <div class="numbertext">3 / 4</div>
                    <img src="images/slider/tartalria.jpg" style="width:100%;">
                    <div class="text">타르탈리아</div>
                    </div>
                    
                    <div class="mySlides fade">
                        <div class="numbertext">4 / 4</div>
                        <img src="images/slider/zonglae.jpg" style="width:100%;">
                        <div class="text">종려</div>
                    </div>
                
                    <!-- Next and previous buttons -->
                    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                    <a class="next" onclick="plusSlides(1)">&#10095;</a>
                </div>
                <br>
                <!-- The dots/circles -->
                <div style="text-align:center">
                    <span class="dot" onclick="currentSlide(1)"></span>
                    <span class="dot" onclick="currentSlide(2)"></span>
                    <span class="dot" onclick="currentSlide(3)"></span>
                    <span class="dot" onclick="currentSlide(3)"></span>
                </div>
            </div>
            <div class="news__content">
                <ul class="news__tab__list">
                    <li class="news__tab__item news__tab__item--active">
                        최신 링크
                    </li>
                </ul>
                <ul class="news__list">
                    <li>
                        <a href="creticalRate.html" class="news__item" title="링크text적기">
                            <p class="news__title ellipsis">링크에대한정보1</p>
                            <p class="news__date">2021년 01월 13일</p>
                        </a>
                    </li>
                    <li>
                        <a href="creticalRate.html" class="news__item" title="링크text적기">
                            <p class="news__title ellipsis">링크에대한정보2</p>
                            <p class="news__date">2021년 01월 15일</p>
                        </a>
                    </li>
                    <li>
                        <a href="creticalRate.html" class="news__item" title="링크text적기">
                            <p class="news__title ellipsis">링크에대한정보3</p>
                            <p class="news__date">2021년 02월 13일</p>
                        </a>
                    </li>
                    <li>
                        <a href="creticalRate.html" class="news__item" title="링크text적기">
                            <p class="news__title ellipsis">링크에대한정보4</p>
                            <p class="news__date">2021년 03월 13일</p>
                        </a>
                    </li>
                    <li>
                        <a href="creticalRate.html" class="news__item" title="링크text적기">
                            <p class="news__title ellipsis">링크에대한정보5</p>
                            <p class="news__date">2021년 04월 13일</p>
                        </a>
                    </li>
                    <a href="addLinkPage.html" class="news__more">추가링크보기</a><!-- 추가링크페이지로이동 -->
                </ul>
            </div>
        </div>
    </section>
    <div class="footer">
        <div class="footer__cdn">
            <div class="mihoyo-sea-footer dark ">
                <div class="footer-wrap">
                    <div class="footer-content">
                        <div class="footer-content__logo">
                            <div class="logoimg">
                                <img src="images/bottom_logo1.png" />
                            </div>
                            <div class="logoimg game">
                                <img src="images/bottom_logo2.png" />
                            </div>
                        </div>
                        <div class="footer-content__info">
                            <div class="copyright">        Copyright © 2021 Joo All Rights Reserved      </div>
                            <div class="footer-content__icons pic-wrap-dark pic-wrap">
                                <p style="white-space: pre-wrap; min-height: 1.5em;"></p>
                                    <img src="images/game-info.png" />
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="popup">
    <div class="popup-info char-jaehwa"></div>
    <div class="popup-info weapon-jaehwa"></div>
    <div class="popup-info prop-item"></div>
    <div class="popup-info relic-func"></div>
    <div class="popup-info relic-op"></div>
</div>

<script>
    var moveIcon,gradientIcon;
    var isOn = false;
    var opacity = 0.3;
    var popupkey = {
        "ch": 'char-jaehwa', 
        "we": 'weapon-jaehwa',
        "pr": 'prop-item',
        "rf": "relic-func",
        "ro": "relic-op"
    };

	$(document).ready(function(){

        $('.audio-controller .audio-controller--on').hide();
        $('.play-btn').hide();
        $('.animate-play').show();
        $('#background-sound')[0].pause();

        //audio on/off
        $('.audio-controller .audio-controller--on, .audio-controller .audio-controller--off').on('click',function(evt){
            isOn = ($(evt.target).prop('class')).split("audio-controller--")[1] == "on";
            $('.audio-controller .audio-controller--on, .audio-controller .audio-controller--off').hide();
            $('.audio-controller--' + (isOn ? "off": "on")).show();
            isOn ? $('#background-sound')[0].pause() : $('#background-sound')[0].play()
        });

        //icon animation start/stop
        $('.animate-play, .animate-stop').on('click', function(evt){
            $('.play-btn').hide();
            if(evt.target.classList[0] == "animate-play"){
                $('.animate-stop').show();
                animationStart()
            }else{
                $('.animate-play').show();
                animationStop()
            }
        });

        //dropmenu
        $('.header__navitem__more, .header__navitem__sublist').hover(function(evt) {
            $('.header__navitem__sublist').addClass("navitem__active");
        }, function(evt){
            $('.header__navitem__sublist').removeClass("navitem__active");
            //console.log(evt.target , $('.header__navitem__sublist').closest(".header__navitem").find("p"))
            $('.header__navitem__sublist').parents(".header__navitem").find("p").removeClass("navitem__focus")
        });

        //제목활성화
        $('.header__navitem').not(".header__navitem__sublist .header__navitem").on('mouseover', function(evt){
            $(evt.target).addClass("navitem__focus");
        });
        $('.header__navitem').not(".header__navitem__sublist .header__navitem").on('mouseout', function(evt){
            $(evt.target).removeClass("navitem__focus");
        });

        $('.poster__arrows').not(".reverse").click(function(){
            window.scrollTo({
                top: 980,
                left: 0,
                behavior: "smooth"
            });
        });

        $('.poster__arrows.reverse').click(function(){
            window.scrollTo({
                top: 0,
                left: 0,
                behavior: "smooth"
            });
        })

        $('.circle-item').on("mouseover", function(evt){
            $('.popup').show();
            $('.popup-info').hide();
            console.log($(evt.target).attr("popupKey"));
            var selectEl= popupkey[$(evt.target).attr("popupKey")];
            console.log(Number($(evt.target).css('top').split("px")[0]) + $('.'+selectEl).height() > window.innerHeight) 
            console.log(Number($(evt.target).css('left').split("px")[0]) + $('.'+selectEl).width() > window.innerWidth) 
            $('.popup').css({
                top: $(evt.target).css('top'),
                left: Number($(evt.target).css('left').split("px")[0]) + $('.'+selectEl).width() > window.innerWidth ? Number($(evt.target).css('left').split("px")[0]) - $('.'+selectEl).width() + 300: $(evt.target).css('left')
            });

            $('.'+selectEl).show();
        });

        $('.popup-info').on('mouseout', function(){
            $('.popup').hide();
        })

        function animationStart(){
            moveIcon = setInterval(function(){   
                _.each($('.citem1, .citem2, .citem3, .citem4'), function(el, i){
                    $(el).animate({
                        top: Math.round(Math.random()*700) + 100,
                        left: Math.round(Math.random()*1400) + 100
                    });
                });
            }, 3000);

            gradientIcon = setInterval(function(){    
                opacity = opacity + 0.1;
                $('.circle-item').animate({
                    opacity: opacity
                });
                if(opacity > 1){
                    opacity = 0.3;
                }
            }, 500);
        }

        function animationStop(){
            clearInterval(moveIcon)
            clearInterval(gradientIcon)
        }
	});

</script>
<audio id="background-sound" autoplay="autoplay" loop="true" src="images/siteAudio.mp3" style="position: absolute; top: -1000px;"></audio>

</body>
</html>

