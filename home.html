<html>
<head> 
<title>v2.0 원신——모험이 가득한 신비한 세계로 떠나자</title>
</head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link data-n-head="true" rel="icon" type="image/x-icon" href="images/favicon.ico">
<link href="./slider.css" rel="stylesheet" type="text/css"  />
<link href="./home.css" rel="stylesheet" type="text/css"  />
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/underscore@1.12.1/underscore-min.js"></script>
<script src="./slider.js"></script>

<body style="margin:0px;">
<div class="banner">
    <div class="main-menu">
        <span class="circle-item citem1" popupKey="ch" title="캐릭터 레벨업에 드는 재화량 표시"><p class="popup-info-label">캐릭터 재화</p></span>
        <span class="circle-item citem2" popupKey="we" title="무기 레벨업에 드는 재화량 표시"><p class="popup-info-label">무기 재화</p></span>
        <span class="circle-item citem3" popupKey="pr" title="각 캐릭터의 특성 6레벨 이후 주간보스재료"><p class="popup-info-label">특성 재료</p></span>
        <span class="circle-item citem4" popupKey="rf" title="성유물 부위별 옵션"><p class="popup-info-label">성유물옵션</p></span>
        <span class="circle-item citem5" popupKey="ro" title="성유물 세트 옵션 능력시표시"><p class="popup-info-label">성유물 능력</p></span>
    </div>

    <selection>
        <div class="background-area">
            <img id="background" src="images/ayaka.png"/>
        </div>
        <div class="poster__arrows">
            <div class="poster__arrow poster__arrow-1"></div> 
            <div class="poster__arrow poster__arrow-2"></div> 
            <div class="poster__arrow poster__arrow-3"></div>
        </div>
    </selection>
    <div class="header" style="transform: translateX(0px);">
        <div class="audio-controller" style="transform: translateX(0px);">
            <img src="images/audio_off.png" width="80%" class="audio-controller--off">
            <img src="images/audio_on.png" width="80%" class="audio-controller--on">
        </div>
        <div class="header__logo">
            <a href="home.html" class="header__navitem">
                <img src="images/logo.png" width="100%" />
            </a>
        </div>
        <div class="header__navbar">
            <a href="home.html" class="header__navitem">홈</a>
            <div class="header__navitem header__navitem__more">
                <p>캐릭터</p>
                <ul class="header__navitem__sublist">
                    <li>
                        <a class="header__navitem five">5성 캐릭터</a>
                    </li>
                    <li>
                        <a  class="header__navitem four">4성 캐릭터</a>
                    </li>
                </ul>
            </div>
            <a href="relicpoint.html" class="header__navitem">성유물 점수</a>
            <a href="creticalRate.html" class="header__navitem">크리효율</a>
            <a href="https://genshin.mihoyo.com/ko/home" class="header__navitem" target="_blank">원신공식</a>
            <a href="https://cafe.naver.com/genshin" class="header__navitem" target="_blank">카페</a>
            <div class="animate-play play-btn"></div>
            <div class="animate-stop play-btn"></div>
            <a href="https://genshin.mihoyo.com/ko/download" class="header__download" target="_blank">
                <div class="transition-img"></div>
            </a>
        </div>
    </div>
    <section class="news">
        <div class="poster__arrows reverse">
            <div class="poster__arrow poster__arrow-1 reverse"></div> 
            <div class="poster__arrow poster__arrow-2 reverse"></div> 
            <div class="poster__arrow poster__arrow-3 reverse"></div>
        </div>
        <h3>
            소식
        </h3>
        <div class="news__main">
            <div class="news__swiper">
                <!-- Slideshow container -->
                <div class="slideshow-container">
        
                    <!-- Full-width images with number and caption text -->
                    <div class="mySlides fade">
                        <div class="numbertext">1 / 4</div>
                        <img src="images/slider/benti.jpg" style="width:100%;">
                        <div class="text">벤티</div>
                    </div>
                
                    <div class="mySlides fade">
                        <div class="numbertext">2 / 4</div>
                        <img src="images/slider/lozaria.jpg" style="width:100%;">
                        <div class="text">로자리아</div>
                    </div>
                
                    <div class="mySlides fade">
                        <div class="numbertext">3 / 4</div>
                        <img src="images/slider/tartalria.jpg" style="width:100%;">
                        <div class="text">타르탈리아</div>
                    </div>
                    
                    <div class="mySlides fade">
                        <div class="numbertext">4 / 4</div>
                        <img src="images/slider/zonglae.jpg" style="width:100%;">
                        <div class="text">종려</div>
                    </div>
                
                    <!-- Next and previous buttons -->
                    <a class="prev" onclick="plusSlides(-2)">&#10094;</a>
                    <a class="next" onclick="plusSlides(0)">&#10095;</a>
                </div>
                <br>
                <!-- The dots/circles -->
                <div style="text-align:center">
                    <span class="dot" onclick="currentSlide(0)"></span>
                    <span class="dot" onclick="currentSlide(1)"></span>
                    <span class="dot" onclick="currentSlide(2)"></span>
                    <span class="dot" onclick="currentSlide(3)"></span>
                </div>
            </div>
            <div class="news__content">
                <ul class="news__tab__list">
                    <li class="news__tab__item news__tab__item--active">
                        최신 링크
                    </li>
                </ul>
                <ul class="news__list">
                    <li>
                        <a href="https://arca.live/b/genshin/20311552" class="news__item" title="원소반응정리">
                            <p class="news__title ellipsis">원신 원소반응에 관한 정리글 입니다.</p>
                            <p class="news__date">2021년 04월 20일</p>
                        </a>
                    </li>
                    <li>
                        <a href="https://arca.live/b/genshin/23715475?category=%F0%9F%92%A1%EC%A0%95%EB%B3%B4&target=all&keyword=%EB%8F%88%EB%83%A5%EB%83%A5&p=1" class="news__item" title="요일육성재료">
                            <p class="news__title ellipsis">요일별 육성재료 관련 정리글 입니다.</p>
                            <p class="news__date">2021년 04월 20일</p>
                        </a>
                    </li>
                    <li>
                        <a href="https://arca.live/b/genshin/8845944?category=%F0%9F%92%A1%EC%A0%95%EB%B3%B4&target=all&keyword=&p=7" class="news__item" title="공퍼/치확치피최적비율">
                            <p class="news__title ellipsis">공퍼/치확치피 최적비율에 관련 정리글입니다.</p>
                            <p class="news__date">2021년 04월 20일</p>
                        </a>
                    </li>
                    <li>
                        <a href="https://arca.live/b/genshin/23546864?category=%F0%9F%92%A1%EC%A0%95%EB%B3%B4&target=all&keyword=&p=1" class="news__item" title="캐릭별돌파스탯">
                            <p class="news__title ellipsis">캐릭 돌파별 스탯증가 관련 정리글 입니다.</p>
                            <p class="news__date">2021년 04월 20일</p>
                        </a>
                    </li>
                    <li>
                        <a href="https://arca.live/b/genshin/9174729?p=1" class="news__item" title="캐릭특성레벨업재료">
                            <p class="news__title ellipsis">요일별 캐릭별재료 관련 정리글입니다.</p>
                            <p class="news__date">2021년 04월 20일</p>
                        </a>
                    </li>
                    <a href="addLinkPage.html" class="news__more">추가링크보기</a><!-- 추가링크페이지로이동 -->
                </ul>
            </div>
        </div>
    </section>
    <div class="footer">
        <div class="footer__cdn">
            <div class="mihoyo-sea-footer dark ">
                <div class="footer-wrap">
                    <div class="footer-content">
                        <div class="footer-content__logo">
                            <div class="logoimg">
                                <img src="images/bottom_logo1.png" />
                            </div>
                            <div class="logoimg game">
                                <img src="images/bottom_logo2.png" />
                            </div>
                        </div>
                        <div class="footer-content__info">
                            <div class="copyright">        Copyright © 2021 Joo All Rights Reserved      </div>
                            <div class="footer-content__icons pic-wrap-dark pic-wrap">
                                <p style="white-space: pre-wrap; min-height: 1.5em;"></p>
                                    <img src="images/game-info.png" />
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="popup">
    <div class="popup-info char-jaehwa"></div>
    <div class="popup-info weapon-jaehwa"></div>
    <div class="popup-info prop-item"></div>
    <div class="popup-info relic-func"></div>
    <div class="popup-info relic-op"></div>
</div>

<div class="five-char-view" style="display: none;">
    <div class="character__main">
        <div class="character-info">
            <div class="c5-close-btn"></div>
        </div>
    </div>
    <div class="character__page">
        <div class="swiper-container character__swiper--page swiper-container-initialized swiper-container-horizontal swiper-container-thumbs">
            <ul class="swiper-wrapper character__page--render">
                <li class="swiper-slide" ctype="zin">
                    <img src="images/character5/zin.PNG" draggable="false"> 
                    <p>진</p>
                </li>
                <li class="swiper-slide" ctype="s">
                    <img src="images/character5/s.PNG" draggable="false"> 
                    <p>소</p>
                </li>
                <li class="swiper-slide" ctype="cl">
                    <img src="images/character5/cl.PNG" draggable="false"> 
                    <p>클레</p>
                </li>
                <li class="swiper-slide" ctype="ab">
                    <img src="images/character5/ab.PNG" draggable="false"> 
                    <p>알베도</p>
                </li>
                <li class="swiper-slide" ctype="zl">
                    <img src="images/character5/zl.PNG" draggable="false"> 
                    <p>종려</p>
                </li>
                <li class="swiper-slide" ctype="de">
                    <img src="images/character5/de.png" draggable="false"> 
                    <p>다이루크</p>
                </li>
                <li class="swiper-slide" ctype="kc">
                    <img src="images/character5/kc.png" draggable="false"> 
                    <p>각청</p>
                </li>
                <li class="swiper-slide" ctype="kw">
                    <img src="images/character5/kw.png" draggable="false"> 
                    <p>감우</p>
                </li>
                <li class="swiper-slide" ctype="mn">
                    <img src="images/character5/mn.png" draggable="false"> 
                    <p>모나</p>
                </li>
                <li class="swiper-slide" ctype="tt">
                    <img src="images/character5/tt.PNG" draggable="false"> 
                    <p>타르탈리아</p>
                </li>
                <li class="swiper-slide" ctype="hd">
                    <img src="images/character5/hd.PNG" draggable="false"> 
                    <p>호두</p>
                </li>
                <li class="swiper-slide" ctype="cc">
                    <img src="images/character5/cc.PNG" draggable="false"> 
                    <p>치치</p>
                </li>
                <li class="swiper-slide" ctype="bt">
                    <img src="images/character5/bt.png" draggable="false"> 
                    <p>벤티</p>
                </li>
            </ul>
            <div class="swiper-pagination"></div>
            <span class="swiper-notification"></span>
        </div> 
        <div class="swiper-btn-prev"></div> 
        <div class="swiper-btn-next"></div>
    </div>
    
</div>

<div class="four-char-view" style="display: none;">
    <div class="character__main">
        <div class="character-info">
            <div class="c5-close-btn"></div>
        </div>
    </div>
    <div class="character__page">
        <div class="swiper-container character__swiper--page swiper-container-initialized swiper-container-horizontal swiper-container-thumbs">
            <ul class="swiper-wrapper character__page--render">
                <li class="swiper-slide" ctype="ab">
                    <img src="images/character4/ab1.PNG" draggable="false"> 
                    <p>엠버</p>
                </li>
                <li class="swiper-slide" ctype="bbr">
                    <img src="images/character4/bbr1.PNG" draggable="false"> 
                    <p>바바라</p>
                </li>
                <li class="swiper-slide" ctype="bd">
                    <img src="images/character4/bd1.PNG" draggable="false"> 
                    <p>북두</p>
                </li>
                <li class="swiper-slide" ctype="bn">
                    <img src="images/character4/bn1.PNG" draggable="false"> 
                    <p>베넷</p>
                </li>
                <li class="swiper-slide" ctype="diona">
                    <img src="images/character4/diona1.png" draggable="false"> 
                    <p>디오나</p>
                </li>
                <li class="swiper-slide" ctype="hc">
                    <img src="images/character4/hc1.PNG" draggable="false"> 
                    <p>행추</p>
                </li>
                <li class="swiper-slide" ctype="hl">
                    <img src="images/character4/hl1.PNG" draggable="false"> 
                    <p>향릉</p>
                </li>
                <li class="swiper-slide" ctype="jw">
                    <img src="images/character4/jw1.PNG" draggable="false"> 
                    <p>중운</p>
                </li>
                <li class="swiper-slide" ctype="keia">
                    <img src="images/character4/keia1.png" draggable="false"> 
                    <p>케이아</p>
                </li>
                <li class="swiper-slide" ctype="ls">
                    <img src="images/character4/ls1.PNG" draggable="false"> 
                    <p>리사</p>
                </li>
                <li class="swiper-slide" ctype="lz">
                    <img src="images/character4/lz1.PNG" draggable="false"> 
                    <p>로자리아</p>
                </li>
                <li class="swiper-slide" ctype="mg">
                    <img src="images/character4/mg1.PNG" draggable="false"> 
                    <p>응광</p>
                </li>
                <li class="swiper-slide" ctype="nl">
                    <img src="images/character4/nl1.png" draggable="false"> 
                    <p>노엘</p>
                </li>
                <li class="swiper-slide" ctype="ps">
                    <img src="images/character4/ps1.PNG" draggable="false"> 
                    <p>피슬</p>
                </li>
                <li class="swiper-slide" ctype="razer">
                    <img src="images/character4/razer1.PNG" draggable="false"> 
                    <p>레이저</p>
                </li>
                <li class="swiper-slide" ctype="st">
                    <img src="images/character4/st1.PNG" draggable="false"> 
                    <p>설탕</p>
                </li>
                <li class="swiper-slide" ctype="sy">
                    <img src="images/character4/sy1.PNG" draggable="false"> 
                    <p>신염</p>
                </li>
            </ul>
            <div class="swiper-pagination"></div>
            <span class="swiper-notification"></span>
        </div> 
        <div class="swiper-btn-prev"></div> 
        <div class="swiper-btn-next"></div>
    </div>
</div>

<script>
    var moveIcon,gradientIcon;
    var isOn = false;
    var opacity = 0.3;
    var popupkey = {
        "ch": 'char-jaehwa', 
        "we": 'weapon-jaehwa',
        "pr": 'prop-item',
        "rf": "relic-func",
        "ro": "relic-op"
    };

	$(document).ready(function(){

        $('.audio-controller .audio-controller--on').hide();
        $('.play-btn').hide();
        $('.animate-play').show();
        $('#background-sound')[0].pause();

        //audio on/off
        $('.audio-controller .audio-controller--on, .audio-controller .audio-controller--off').on('click',function(evt){
            isOn = ($(evt.target).prop('class')).split("audio-controller--")[1] == "on";
            $('.audio-controller .audio-controller--on, .audio-controller .audio-controller--off').hide();
            $('.audio-controller--' + (isOn ? "off": "on")).show();
            isOn ? $('#background-sound')[0].pause() : $('#background-sound')[0].play()
        });

        //icon animation start/stop
        $('.animate-play, .animate-stop').on('click', function(evt){
            $('.play-btn').hide();
            if(evt.target.classList[0] == "animate-play"){
                $('.animate-stop').show();
                animationStart()
            }else{
                $('.animate-play').show();
                animationStop()
            }
        });

        //dropmenu
        $('.header__navitem__more, .header__navitem__sublist').hover(function(evt) {
            $('.header__navitem__sublist').addClass("navitem__active");
        }, function(evt){
            $('.header__navitem__sublist').removeClass("navitem__active");
            //console.log(evt.target , $('.header__navitem__sublist').closest(".header__navitem").find("p"))
            $('.header__navitem__sublist').parents(".header__navitem").find("p").removeClass("navitem__focus")
        });

        //제목활성화
        $('.header__navitem').not(".header__navitem__sublist .header__navitem").on('mouseover', function(evt){
            $(evt.target).addClass("navitem__focus");
        });
        $('.header__navitem').not(".header__navitem__sublist .header__navitem").on('mouseout', function(evt){
            $(evt.target).removeClass("navitem__focus");
        });

        $('.header__navitem__sublist .header__navitem').on('click', function(evt){
            $('.four-char-view .character-info, .four-char-view').hide();
            $('.five-char-view .character-info, .five-char-view').hide();
            if((evt.target).classList[1] == 'five'){
                $('.five-char-view').show();
                $('.five-char-view .character-info').show(2500);
                swiper.update();
            }else{
                $('.four-char-view').show();
                $('.four-char-view .character-info').show(2500);
                swiperfour.update();
            }
            $('.c5-close-btn').show();
        });

        //arrow scroll down
        $('.poster__arrows').not(".reverse").click(function(){
            window.scrollTo({
                top: 980,
                left: 0,
                behavior: "smooth"
            });
        });

        //arrow scroll up
        $('.poster__arrows.reverse').click(function(){
            window.scrollTo({
                top: 0,
                left: 0,
                behavior: "smooth"
            });
        })

        //main-info circle moving
        $('.circle-item').on("mouseover", function(evt){
            $('.popup').show();
            $('.popup-info').hide();
            //console.log($(evt.target).attr("popupKey"));
            var selectEl= popupkey[$(evt.target).attr("popupKey")];
            $('.popup').css({
                top: Number($(evt.target).css('top').split("px")[0]) + 20,
                left: Number($(evt.target).css('left').split("px")[0]) + $('.'+selectEl).width() > window.innerWidth ? Number($(evt.target).css('left').split("px")[0]) - $('.'+selectEl).width() + 300: $(evt.target).css('left')
            });

            $('.'+selectEl).show();
        });

        //main-info pop closing
        $('.popup-info').on('mouseout', function(){
            $('.popup').hide();
        })

        function animationStart(){
            moveIcon = setInterval(function(){   
                _.each($('.citem1, .citem2, .citem3, .citem4'), function(el, i){
                    $(el).animate({
                        top: Math.round(Math.random()*700) + 100,
                        left: Math.round(Math.random()*1400) + 100
                    });
                });
            }, 3000);

            gradientIcon = setInterval(function(){    
                opacity = opacity + 0.1;
                $('.circle-item').animate({
                    opacity: opacity
                });
                if(opacity > 1){
                    opacity = 0.3;
                }
            }, 500);
        }

        function animationStop(){
            clearInterval(moveIcon)
            clearInterval(gradientIcon)
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////
        ////////////////////////////////////////////////////////////////////////////////////////////////////

        var swiper = new Swiper('.five-char-view .swiper-container', {
            // Optional parameters
            slidesPerView: 8,
            spaceBetween: 34,
            direction: 'horizontal',
            loop: true,
            navigation: {
                nextEl: '.five-char-view .swiper-btn-next',
                prevEl: '.five-char-view .swiper-btn-prev',
            },
            on: {
                init: function () {
                    loadCharacter5View($('.five-char-view .swiper-slide:eq(0)'));
                    this.slideTo(0)
                },
            }
        });

        $('.five-char-view .swiper-slide').on('click', function(evt){
            var el;
            var index = $('.five-char-view .swiper-slide').index(this)
            if($(evt.target).is('.swiper-slide')){
                el = $(evt.target)
            }else{
                el = $(evt.target).closest('.swiper-slide')
            }
            swiper.slideTo(index);
            loadCharacter5View(el)
        });

        $('.c5-close-btn').on('click', function(evt){
            $('.four-char-view .character-info, .four-char-view').hide();
            $('.five-char-view .character-info, .five-char-view').hide();
            $('.c5-close-btn').hide();
        });

        swiper.on('click', function (swpr, el) {
            console.log('click')
            if($(el.path[1]).is('.swiper-slide')){
                loadCharacter5View($(el.path[1]))
            }
        });

        swiper.on('slideChange', function (swpr) {
            console.log('slideChange')
            loadCharacter5View($('.five-char-view .swiper-slide:eq('+ swpr.activeIndex + ')'))
        });

        function loadCharacter5View($el){
            var ctype = $el.attr('ctype')
            console.log('loadCharacter5View')
            $('.five-char-view .character-info').css("background-image", "url(images/character5/" + ctype + "1.jpg)")
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////
        ////////////////////////////////////////////////////////////////////////////////////////////////////
        ////////////////////////////////////////////////////////////////////////////////////////////////////

        var swiperfour = new Swiper('.four-char-view .swiper-container', {
            // Optional parameters
            slidesPerView: 8,
            spaceBetween: 34,
            direction: 'horizontal',
            loop: true,
            navigation: {
                nextEl: '.four-char-view .swiper-btn-next',
                prevEl: '.four-char-view .swiper-btn-prev',
            },
            on: {
                init: function () {
                    loadCharacter4View($('.four-char-view .swiper-slide:eq(0)'));
                    this.slideTo(0)
                },
            }
        });

        $('.four-char-view .swiper-slide').on('click', function(evt){
            var el;
            var index = $('.four-char-view .swiper-slide').index(this)
            if($(evt.target).is('.swiper-slide')){
                el = $(evt.target)
            }else{
                el = $(evt.target).closest('.swiper-slide')
            }
            swiperfour.slideTo(index);
            loadCharacter4View(el)
        });

        swiperfour.on('click', function (swpr, el) {
            console.log('click')
            if($(el.path[1]).is('.swiper-slide')){
                loadCharacter4View($(el.path[1]))
            }
        });

        swiperfour.on('slideChange', function (swpr) {
            console.log('slideChange')
            loadCharacter4View($('.four-char-view .swiper-slide:eq('+ swpr.activeIndex + ')'))
        });

        function loadCharacter4View($el){
            var ctype = $el.attr('ctype')
            console.log('loadCharacter4View')
            $('.four-char-view .character-info').css("background-image", "url(images/character4/" + ctype + ".PNG)")
        }

	});

</script>
<audio id="background-sound" autoplay="autoplay" loop="true" src="images/siteAudio.mp3" style="position: absolute; top: -1000px;"></audio>

</body>
</html>

